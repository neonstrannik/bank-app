(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{83:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,A:()=>l});var s=r(5155),a=r(2115),n=r(5695);function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}var c=function e(t,r){function s(e,s,a){if("undefined"!=typeof document){"number"==typeof(a=i({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var c in a)a[c]&&(n+="; "+c,!0!==a[c]&&(n+="="+a[c].split(";")[0]));return document.cookie=e+"="+t.write(s,e)+n}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},a=0;a<r.length;a++){var n=r[a].split("="),i=n.slice(1).join("=");try{var c=decodeURIComponent(n[0]);if(s[c]=t.read(i,c),e===c)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){s(e,"",i({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,i({},this.attributes,t))},withConverter:function(t){return e(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let o=(0,a.createContext)(void 0);function d(e){let{children:t}=e,[r,i]=(0,a.useState)(null),d=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=c.get("authToken"),t=c.get("userData");if(e&&t)try{i(JSON.parse(t))}catch(e){console.error("Error parsing user data:",e),l()}},[]);let l=()=>{i(null),c.remove("authToken"),c.remove("userData"),d.push("/")};return(0,s.jsx)(o.Provider,{value:{user:r,login:(e,t)=>{i(e),c.set("authToken",t,{expires:7}),c.set("userData",JSON.stringify(e),{expires:7}),d.push("/dashboard")},logout:l,isAuthenticated:!!r},children:t})}function l(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},801:(e,t,r)=>{Promise.resolve().then(r.bind(r,3419))},3419:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5155),a=r(2115),n=r(83),i=r(5695),c=r(7708),o=r.n(c);function d(){let{user:e,isAuthenticated:t}=(0,n.A)(),r=(0,i.useRouter)();return((0,a.useEffect)(()=>{t||r.push("/login")},[t,r]),t)?(0,s.jsx)("div",{className:o().container,children:(0,s.jsxs)("div",{className:o().content,children:[(0,s.jsxs)("h1",{className:o().title,children:["Добро пожаловать, ",null==e?void 0:e.firstName,"!"]}),(0,s.jsxs)("div",{className:o().cards,children:[(0,s.jsxs)("div",{className:o().card,children:[(0,s.jsx)("h3",{children:"Баланс"}),(0,s.jsx)("p",{className:o().balance,children:"50 000 ₽"}),(0,s.jsx)("span",{children:"Текущий баланс"})]}),(0,s.jsxs)("div",{className:o().card,children:[(0,s.jsx)("h3",{children:"Кэшбэк"}),(0,s.jsx)("p",{className:o().cashback,children:"+2 150 ₽"}),(0,s.jsx)("span",{children:"За этот месяц"})]}),(0,s.jsxs)("div",{className:o().card,children:[(0,s.jsx)("h3",{children:"Карты"}),(0,s.jsx)("p",{children:"2 активные карты"}),(0,s.jsx)("span",{children:"Основная •••• 4512"})]})]}),(0,s.jsxs)("div",{className:o().recentActivity,children:[(0,s.jsx)("h2",{children:"Последние операции"}),(0,s.jsxs)("div",{className:o().activityList,children:[(0,s.jsxs)("div",{className:o().activityItem,children:[(0,s.jsx)("span",{children:"Оплата в супермаркете"}),(0,s.jsx)("span",{className:o().amount,children:"-1 250 ₽"})]}),(0,s.jsxs)("div",{className:o().activityItem,children:[(0,s.jsx)("span",{children:"Кэшбэк начислен"}),(0,s.jsx)("span",{className:o().positive,children:"+187 ₽"})]}),(0,s.jsxs)("div",{className:o().activityItem,children:[(0,s.jsx)("span",{children:"Перевод от друга"}),(0,s.jsx)("span",{className:o().positive,children:"+5 000 ₽"})]})]})]})]})}):(0,s.jsx)("div",{children:"Загрузка..."})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},7708:e=>{e.exports={container:"dashboard_container__ftGvc",content:"dashboard_content__OxEoK",title:"dashboard_title__K0Cqp",cards:"dashboard_cards__luNAO",card:"dashboard_card__XE2An",balance:"dashboard_balance__oakHO",cashback:"dashboard_cashback__R9d4b",recentActivity:"dashboard_recentActivity__tUs_t",activityList:"dashboard_activityList__I5gml",activityItem:"dashboard_activityItem___g1Ux",amount:"dashboard_amount__IxEU6",positive:"dashboard_positive__HEMcA"}}},e=>{var t=t=>e(e.s=t);e.O(0,[339,441,684,358],()=>t(801)),_N_E=e.O()}]);